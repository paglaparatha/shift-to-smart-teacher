<ion-header [translucent]="true">
  <ion-toolbar mode="md">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <div class="indicator red" *ngIf="notificationsCount > 0"></div>
    </ion-buttons>
    <ion-title>
      <a href="#" [routerLink]="['/home']"><img src="assets/logo.png" class="logo" alt="" /></a>
    </ion-title>
    <ion-buttons slot="end">
      <ng-container *ngIf="user">
        <ion-button (click)="logout()">
          <ion-icon name="log-out-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </ng-container>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-menu auto-hide="true" side="start" contentId="drawer">
  <ion-header>
    <ion-toolbar mode="md">
      <ion-title>
        <img src="assets/logo.png" class="logo" alt="">
      </ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-menu-toggle>
      <ion-list mode="md">
        <ng-container *ngIf="user; else loggedOut">
          <ion-item [routerLink]="['/home']">
            <ion-icon name="home" slot="start"></ion-icon>
            <ion-label>Home</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/profile']">
            <ion-icon name="person" slot="start"></ion-icon>
            <ion-label>Profile</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/attendance']" *ngIf="user.teacher['class-teacher']==1">
            <ion-icon name="list" slot="start"></ion-icon>
            <ion-label>Attendance</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/school']">
            <ion-icon name="school" slot="start"></ion-icon>
            <ion-label>My School</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/messages']">
            <ion-icon name="chatbubble" slot="start"></ion-icon>
            <ion-label>Messages <div class="indicator red indicator__sidebar" *ngIf="notifications.message > 0"></div>
            </ion-label>
          </ion-item>

          <ion-item [routerLink]="['/diary']">
            <ion-icon name="document-text" slot="start"></ion-icon>
            <ion-label>Diary</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/syllabus']">
            <ion-icon name="bookmarks" slot="start"></ion-icon>
            <ion-label>View Syllabus</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/notice']">
            <ion-icon name="notifications" slot="start"></ion-icon>
            <ion-label>Notice Board</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/calendar']">
            <ion-icon name="calendar" slot="start"></ion-icon>
            <ion-label>Calendar</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/timetable']">
            <ion-icon name="alarm" slot="start"></ion-icon>
            <ion-label>Timetable</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/marksheets']">
            <ion-icon name="clipboard" slot="start"></ion-icon>
            <ion-label>Marksheet</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/e-id']">
            <ion-icon name="id-card" slot="start"></ion-icon>
            <ion-label>E-ID</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/schedule']">
            <ion-icon name="reader" slot="start"></ion-icon>
            <ion-label>Exam Schedule</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/library']">
            <ion-icon name="book" slot="start"></ion-icon>
            <ion-label>Library</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/requests']" *ngIf="user.teacher['class-teacher']==1">
            <ion-icon name="hand-left" slot="start"></ion-icon>
            <ion-label>Raised Requests <div class="indicator red indicator__sidebar" *ngIf="notifications.request > 0">
              </div>
            </ion-label>
          </ion-item>

          <ion-item [routerLink]="['/bmi']">
            <ion-icon name="calculator" slot="start"></ion-icon>
            <ion-label>BMI</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/gallery']">
            <ion-icon name="images" slot="start"></ion-icon>
            <ion-label>Gallery</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/tuitions']">
            <ion-icon name="bookmark" slot="start"></ion-icon>
            <ion-label>Tuitions</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/opinions']">
            <ion-icon name="thumbs-up" slot="start"></ion-icon>
            <ion-label>Opinion Poll</ion-label>
          </ion-item>

          <ion-item [routerLink]="['/password']">
            <ion-icon name="key" slot="start"></ion-icon>
            <ion-label>Change Password</ion-label>
          </ion-item>
        </ng-container>

        <ng-template #loggedOut>
          <ion-item [routerLink]="['/login']">
            <ion-icon name="log-in" slot="start"></ion-icon>
            <ion-label>Login</ion-label>
          </ion-item>
        </ng-template>
      </ion-list>
    </ion-menu-toggle>

    <ion-item>
      <ion-label>Dark Mode</ion-label>
      <ion-toggle slot="start" name="darkMode" mode="md" [(ngModel)]="darkMode" (ionChange)="changeMode()"
        color="warning"></ion-toggle>
    </ion-item>
  </ion-content>
</ion-menu>
