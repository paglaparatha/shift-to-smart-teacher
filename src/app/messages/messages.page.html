<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
</ion-refresher>
  <main>
    <h1 class="ion-padding" style="font-weight: bolder;">Messages</h1>

    <ng-container *ngIf="messages; else load">
      <ion-card mode="ios" *ngFor="let m of messages">
        <ion-card-content>
          <p style="font-size: 18px;">{{ m.message }}</p>
          <p><b>By: {{ m.name }}, Class: {{ m.class }} '{{ m.section | uppercase }}'</b></p>
          <p><b>{{ m.date | date }}</b></p>
          <br>
          <ion-button color="danger" (click)="onDelete(m.id)">Delete</ion-button>
        </ion-card-content>
      </ion-card>
    </ng-container>

    <ng-template #load>
      <ion-card mode="ios" *ngFor="let i of [].constructor(10)">
        <ion-card-content>
          <ion-skeleton-text style="height: 18px;" animated></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 70%;"></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 40%;"></ion-skeleton-text>
        </ion-card-content>
      </ion-card>
    </ng-template>
  </main>
</ion-content>
